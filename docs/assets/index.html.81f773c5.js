import{_ as r,r as i,o as d,c as o,a as t,b as e,w as s,F as c,d as a,e as p}from"./app.c0539320.js";const g={},h=t("h1",{id:"kibanalytics",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#kibanalytics","aria-hidden":"true"},"#"),a(" Kibanalytics")],-1),u={class:"table-of-contents"},y=a("Setup"),k=a("Environment Variables"),x=a("Docker-Compose"),b=a("Back-End Node.js Server"),_=a("Front-End Tracker Library"),f=a("This project aims to make use of the "),m={href:"https://www.elastic.co/what-is/elk-stack",target:"_blank",rel:"noopener noreferrer"},E=a("ELK stack"),S=a(" to collect events from web pages and visualize them, offering the same kind of insights that "),v={href:"https://analytics.google.com/analytics/web/",target:"_blank",rel:"noopener noreferrer"},R=a("Google Analytics"),N=a(" does."),T=p(`<p>The reason behind this project is to provide an alternative to GA, that offers data ownership, adblocker avoidance, powerful aggregations, grained filtering and big data storage.</p><h2 id="setup" tabindex="-1"><a class="header-anchor" href="#setup" aria-hidden="true">#</a> Setup</h2><h3 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a> Environment Variables</h3><p>Kibanalytics will look for a .env file at the root of the project folder to apply settings to the server.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Use .env.example as base for your environment variables setup.</p></div><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:center;">Type</th><th style="text-align:right;">Allowed Values</th><th style="text-align:right;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">NODE_ENV</td><td style="text-align:center;">string</td><td style="text-align:right;">development, production</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">NODE_CLUSTER</td><td style="text-align:center;">int</td><td style="text-align:right;">0, 1</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_PORT</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_HELMET</td><td style="text-align:center;">int</td><td style="text-align:right;">0, 1</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_CORS</td><td style="text-align:center;">int</td><td style="text-align:right;">0, 1</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_ALLOWED_ORIGINS</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_GZIP</td><td style="text-align:center;">int</td><td style="text-align:right;">0, 1</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_SESSION_ID</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">EXPRESS_SESSION_SECRET</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">SENTRY_DSN</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">REDIS_HOST</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">REDIS_USERNAME</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">REDIS_PASSWORD</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">REDIS_URIS</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">TRACKING_KEY</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">ELASTICSEARCH_URIS</td><td style="text-align:center;">int</td><td style="text-align:right;">-</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">VALIDATE_JSON_SCHEMA</td><td style="text-align:center;">int</td><td style="text-align:right;">0, 1</td><td style="text-align:right;"></td></tr></tbody></table><h3 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> Docker-Compose</h3><h4 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch" aria-hidden="true">#</a> Elasticsearch</h4><h4 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> Redis</h4><h4 id="logstash" tabindex="-1"><a class="header-anchor" href="#logstash" aria-hidden="true">#</a> Logstash</h4><h4 id="kibana" tabindex="-1"><a class="header-anchor" href="#kibana" aria-hidden="true">#</a> Kibana</h4><h3 id="back-end-node-js-server" tabindex="-1"><a class="header-anchor" href="#back-end-node-js-server" aria-hidden="true">#</a> Back-End Node.js Server</h3><h3 id="front-end-tracker-library" tabindex="-1"><a class="header-anchor" href="#front-end-tracker-library" aria-hidden="true">#</a> Front-End Tracker Library</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>My Website<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>kbs.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-tracker-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BH3HJ78FCV<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:center;">Type</th><th style="text-align:right;">Allowed Values</th><th style="text-align:right;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">data-tracker-id</td><td style="text-align:center;">string</td><td style="text-align:right;"></td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">data-server-url</td><td style="text-align:center;">string</td><td style="text-align:right;"></td><td style="text-align:right;"></td></tr></tbody></table>`,15);function I(D,L){const n=i("RouterLink"),l=i("ExternalLinkIcon");return d(),o(c,null,[h,t("nav",u,[t("ul",null,[t("li",null,[e(n,{to:"#setup"},{default:s(()=>[y]),_:1}),t("ul",null,[t("li",null,[e(n,{to:"#environment-variables"},{default:s(()=>[k]),_:1})]),t("li",null,[e(n,{to:"#docker-compose"},{default:s(()=>[x]),_:1})]),t("li",null,[e(n,{to:"#back-end-node-js-server"},{default:s(()=>[b]),_:1})]),t("li",null,[e(n,{to:"#front-end-tracker-library"},{default:s(()=>[_]),_:1})])])])])]),t("p",null,[f,t("a",m,[E,e(l)]),S,t("a",v,[R,e(l)]),N]),T],64)}var A=r(g,[["render",I],["__file","/a/kibanalytics/docs/.vuepress/.temp/pages/index.html.vue"]]);export{A as default};
